{% extends 'base.html.twig' %}

{% block title %} {{ head ? head.name : 'People' }} {% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <!-- a href="{{ asset('css/mbo.css') }}" rel="stylesheet" type="text/css" / -->
{% endblock %}

{% block body %}
    {% if head %}
        <h1> 
            <a href="{{ path('person_show', {'id': head.id}) }}">
                {{ head.name }} 
            </a>
        </h1>
        <h2> 
            go up:
            {% if head.manager %}
                <a href="{{ path('people', {'id': head.manager.getId()}) }}">
                    {{ head.manager.name }} 
                </a>
            {% else %}
                <a href="{{ path('people_root') }}">
                    Root 
                </a>
            {% endif %}
        </h2>
    {% endif %}

    {% for person in people %}
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <a class="card-link" href="{{ path('people', {'id': person.id}) }}">
                        {{ person.name }}
                    </a>
                    <a class="card-link" href="{{ path('person_show', {'id': person.id}) }}">
                        show
                    </a>
                </h3>
            </div>
            {% if not person.employees.isEmpty() %}
                {{ include('mbo/employees.html.twig', {people: person.employees}, with_context = false) }}
            {% endif %}
        </div>
    {% else %}
        <p> no records found </p>
    {% endfor %}
{% endblock %}
{% block javascripts %}{% endblock %}
